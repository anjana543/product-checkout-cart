(this["webpackJsonpproduct-checkout-cart"]=this["webpackJsonpproduct-checkout-cart"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),r=n(8),d=n.n(r),o=(n(14),n(15),n(9)),u=n(2),s=n(6),j=n(4),a=n.n(j),l=n(0),b=function(){return Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(l.jsx)("path",{d:"M13.75 22c0 .966-.783 1.75-1.75 1.75s-1.75-.784-1.75-1.75.783-1.75 1.75-1.75 1.75.784 1.75 1.75zm-1.75-22c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 10.75c.689 0 1.249.561 1.249 1.25 0 .69-.56 1.25-1.249 1.25-.69 0-1.249-.559-1.249-1.25 0-.689.559-1.25 1.249-1.25zm-22 1.25c0 1.105.896 2 2 2s2-.895 2-2c0-1.104-.896-2-2-2s-2 .896-2 2zm19-8c.551 0 1 .449 1 1 0 .553-.449 1.002-1 1-.551 0-1-.447-1-.998 0-.553.449-1.002 1-1.002zm0 13.5c.828 0 1.5.672 1.5 1.5s-.672 1.501-1.502 1.5c-.826 0-1.498-.671-1.498-1.499 0-.829.672-1.501 1.5-1.501zm-14-14.5c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2zm0 14c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2z"})})};function h(){return function(t){var e=1e3*(.5+2*Math.random());return new Promise((function(n,c){setTimeout((function(){fetch(t).then((function(t){n(t.json())}))}),e)}))}("/products.json").then((function(t){return t.products}))}var O=function(t){return(null===t||void 0===t?void 0:t.qty)?(null===t||void 0===t?void 0:t.qty)*t.price:0},x=function(t){return t>1e3?t-10*t/100:0},f=function(t){var e=t.item,n=t.onAdd,c=t.onRemove,i=t.cardItems.find((function(t){return t.id===e.id}));return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.id}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.availableCount}),Object(l.jsxs)("td",{children:["$",e.price]}),Object(l.jsx)("td",{children:(null===i||void 0===i?void 0:i.qty)||0}),Object(l.jsxs)("td",{children:["$",function(){var t=O(i),e=x(t);return 0===e?t:e}().toFixed(2)]}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{onClick:function(){return n(e)},className:a.a.actionButton,disabled:(null===i||void 0===i?void 0:i.qty)>=e.availableCount,children:"+"}),Object(l.jsx)("button",{onClick:function(){return c(e)},className:a.a.actionButton,disabled:!(null===i||void 0===i?void 0:i.qty)||0===(null===i||void 0===i?void 0:i.qty),children:"-"})]})]})},v=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1],r=Object(c.useState)(!1),d=Object(s.a)(r,2),j=d[0],v=d[1],m=Object(c.useState)([]),p=Object(s.a)(m,2),y=p[0],q=p[1];Object(c.useEffect)((function(){v(!0),h().then((function(t){v(!1),i(t)}))}),[]);var g=function(t){var e=y.find((function(e){return e.id===t.id}));q(e?y.map((function(n){return n.id===t.id?Object(u.a)(Object(u.a)({},e),{},{qty:e.qty+1}):n})):[].concat(Object(o.a)(y),[Object(u.a)(Object(u.a)({},t),{},{qty:1})]))},C=function(t){var e=y.find((function(e){return e.id===t.id}));1===(null===e||void 0===e?void 0:e.qty)?q(y.filter((function(e){return e.id!==t.id}))):q(y.map((function(n){return n.id===t.id?Object(u.a)(Object(u.a)({},e),{},{qty:e.qty-1}):n})))},k=y.reduce((function(t,e){return t+e.qty*e.price}),0),w=y.reduce((function(t,e){var n=O(e),c=x(n);return t+c>0?n-c:0}),0);return Object(l.jsxs)("div",{children:[Object(l.jsx)("header",{className:a.a.header,children:Object(l.jsx)("h1",{children:"Electro World"})}),Object(l.jsx)("main",{children:j?Object(l.jsx)(b,{}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("table",{className:a.a.table,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Product ID"}),Object(l.jsx)("th",{children:"Product Name"}),Object(l.jsx)("th",{children:"# Available"}),Object(l.jsx)("th",{children:"Price"}),Object(l.jsx)("th",{children:"Quantity"}),Object(l.jsx)("th",{children:"Total"}),Object(l.jsx)("th",{}),Object(l.jsx)("th",{})]})}),Object(l.jsx)("tbody",{children:n.map((function(t){return Object(l.jsx)(f,{item:t,cardItems:y,onAdd:g,onRemove:C},t.id)}))})]}),Object(l.jsx)("h2",{children:"Order summary"}),Object(l.jsxs)("p",{children:["Discount: $ ",w.toFixed(2)]}),Object(l.jsxs)("p",{children:["Total: $",k.toFixed(2)," "]})]})})]})};var m=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(v,{})})},p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,d=e.getTTFB;n(t),c(t),i(t),r(t),d(t)}))};d.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(m,{})}),document.getElementById("root")),p()},4:function(t,e,n){t.exports={header:"Checkout_header__2H0bG",table:"Checkout_table__kPXCj",actionButton:"Checkout_actionButton__27Ocm"}}},[[17,1,2]]]);
//# sourceMappingURL=main.60072fc9.chunk.js.map